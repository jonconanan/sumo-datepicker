/*!
 * Sumo Datepicker
 * http://sumofy.me/
 *
 * Copyright Think Sumo Creative Media Inc.
 * Developed by Developed by Derrick Nicolas and Rupert Cabrera
 * Released under the MIT license.
 * http://sumofy.me/
 *
 */
!function(o){o.fn.sumodate=function(a){function e(o){return(10>o?"0":"")+o}var t={monthFormat:"mmm",dayFormat:"dd",maxYear:"2099",minYear:"1990"},n=o(this).val(),a=o.extend(t,a);return this.each(function(){var t=o(this),r=new Date,d=o(this),p={};p.name=d.attr("name"),p.val=d.val(),p.random=Math.floor(1e12*Math.random()),p.id="drop_date-"+p.random;var l=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v=["01","02","03","04","05","06","07","08","09","10","11","12"],u=["1","2","3","4","5","6","7","8","9","10","11","12"],s=l;s="mm"==a.monthFormat?v:"mmmm"==a.monthFormat?l:"m"==a.monthFormat?u:m;var y='<div class="dropdownDatepickerGroup">';if(y+='<input type="hidden" name="'+p.name+'" id="'+p.id+'" value="'+t.val()+'">',y+='<select name="drop_month-'+p.random+'" id="drop_month-'+p.random+'" class="drop_month"><option value="" disabled>Month</option><option value="01">'+s[0]+'</option><option value="02">'+s[1]+'</option><option value="03">'+s[2]+'</option><option value="04">'+s[3]+'</option><option value="05">'+s[4]+'</option><option value="06">'+s[5]+'</option><option value="07">'+s[6]+'</option><option value="08">'+s[7]+'</option><option value="09">'+s[8]+'</option><option value="10">'+s[9]+'</option><option value="11">'+s[10]+'</option><option value="12">'+s[11]+"</option></select>",y+='<select name="drop_day-'+p.random+'" id="drop_day-'+p.random+'" class="drop_day"><option value="" disabled>Day</option>',"dd"==a.dayFormat)for(i=1;31>=i;i++)y+='<option value="'+i+'">'+e(i)+"</option>";else for(i=1;31>=i;i++)y+='<option value="'+i+'">'+i+"</option>";y+="</select>";var c=a.minYear,f=a.maxYear;if("current"==a.maxYear&&(f=r.getFullYear()),"current"==a.minYear&&(c=r.getFullYear()),d.is("[data-add-year]")&&(c+=d.data("add-year")),y+='<select name="drop_year-'+p.random+'" id="drop_year-'+p.random+'" class="drop_year"><option value="" disabled>Year</option>',"yy"==a.yearFormat)for(i=c;f>=i;i++)x=i.toString().slice(2,4),y+='<option value="'+i+'">'+x+"</option>";else for(i=c;f>=i;i++)y+='<option value="'+i+'">'+i+"</option>";if(y+="</select>",y+="</div>",o(y).insertAfter(d),1==d.data("no-date")&&(o("#drop_day-"+p.random).val("01"),o("#drop_day-"+p.random).addClass("hide")),""!=n){var h=new Date(n);o("#drop_month-"+p.random).val(e(h.getMonth()+1)),o("#drop_day-"+p.random).val(h.getDate()),o("#drop_year-"+p.random).val(h.getFullYear())}d.remove()})}}(jQuery),$(document).on("change",".drop_month, .drop_day, .drop_year",function(){var o=($(this),$(this).closest(".dropdownDatepickerGroup")),a=o.find('input[type="hidden"]'),e=o.find(".drop_year").val(),t=o.find(".drop_month").val(),n=o.find(".drop_day").val();if(0!=e&&0!=t){var r=32-new Date(e,t-1,32).getDate(),i=o.find(".drop_day").val();i>r&&(o.find(".drop_day > option[value="+i+"]").attr("selected",!1),o.find(".drop_day > option[value="+r+"]").attr("selected",!0));for(var d=r+1;32>d;d++)o.find(".drop_day > option[value="+d+"]").remove();for(var d=29;r+1>d;d++)o.find(".drop_day > option[value="+d+"]").length||o.find(".drop_day").append($("<option></option>").attr("value",d).text(d));0!=n&&a.val(e+"-"+t+"-"+n)}});